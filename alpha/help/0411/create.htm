<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<link rel="stylesheet" href="style_panel.css">
<title>作成画面</title>
</head>
<body>

<font size=5>作成画面の説明</font><br>&nbsp
リカバリ・ファイルを指定せずに MultiPar を起動すると、この画面が開きます。
この画面上でソース・ファイルを選択して、新しいリカバリ・ファイルの作り方を指定します。
<hr>

<h3>ソース・ファイル</h3>

<dl><dt><b>
基準ディレクトリ</b> と <b>参照する</b> ボタン
</dt><dd>&nbsp
「基準ディレクトリ」とは、修復対象にするソース・ファイルが存在するディレクトリのことです。
普通は特定のフォルダになり、そのフォルダ内のファイルだけを修復対象にすることができます。
基準ディレクトリを選択した時点で、そこにあるファイルが全て選択された状態になります。
「参照する」ボタンでフォルダを選択するか、入力欄にフォルダをドラッグ＆ドロップしてください。
表示欄をダブル・クリックしてもフォルダ選択ダイアログが表示されます。
</dd></dl>

<dl><dt><b>
追加する</b>、<b>取り除く</b>、または <b>初期化</b> ボタン
</dt><dd>&nbsp
「追加する」ボタンで特定のファイルを修復対象に追加したり、
「取り除く」ボタンで選択したファイルを修復対象から取り除くこともできます。
「初期化」ボタンを押すとリストの項目を全て取り除いて、選択内容を初期化します。
ファイル一覧の上で右クリックすると、「追加する」や「取り除く」を含むメニューがでて、
そこから操作することもできます。
ファイルを「ドラッグ＆ドロップ」や「コピー＆貼り付け」で追加することもできます。
PAR 1.0 では直下のファイルしか選択することができませんが、
PAR 2.0 ではサブ・フォルダの中身も選択することができます。
</dd></dl>

<p>&nbsp
選択したファイルやフォルダはリストに表示され、その合計サイズとブロック数が計算されます。
PAR 1.0 は 256 個までのファイル、PAR 2.0 は 32768 個までのファイルに対応してます。
PAR 2.0 仕様ではファイルを含むフォルダは、
サブ・ディレクトリとしてそのファイル名の一部として扱われるので、
フォルダとして表示されるのは空のフォルダだけです。
修復時には存在しないフォルダは自動的に作成されるので、
ソース・ファイルのリスト内に無くても問題ありません。
</p>

<dl><dt><b>
ファイル分割</b> と <b>制限サイズ
</b></dt><dd>&nbsp
「ファイル分割」にチェックを入れると、
PAR 2.0 のリカバリ・ファイルを作る際にソース・ファイルが制限サイズ以下に分割されて、
リカバリ・ファイルと同じ所に保存されます。
分割サイズは自動的にブロック・サイズの倍数になるので、制限サイズまでぴったり使い切ってくれるとは限りません。
また、ブロック・サイズよりも小さな値はブロック・サイズと同じとして扱われます。
なお、フォルダーが含まれると分割機能は使えません。
</dd></dl>

<dl><dt><b>
リカバリ・レコード付加
</b></dt><dd>&nbsp
PAR 2.0 では書庫ファイル (ZIP か 7z 形式) にリカバリ・レコードを付加することができます。
単一のソース・ファイルに、作成した PAR2 ファイルを連結することで機能します。
リカバリ・レコードが付いていても、一般的なアーカイバーから普通に書庫を操作できます。
リカバリ・レコードを付けた書庫を MultiPar で開くと、書庫が完全なら「追加されてる」と表示されます。
修復すると、リカバリ・レコードも取り除かれるので注意してください。
</dd></dl>

<hr>

<h3>ブロックの割り当て</h3>
<p>&nbsp
PAR 1.0 ではソース・ブロックの数は (空でない) ソース・ファイルの数と同じです。
ブロック・サイズは最も大きなファイルのサイズになるので、
ソース・ファイルの大きさにばらつきがあると、効率が悪くなってしまいます。
そういう様々な大きさのファイルに対して PAR1 ファイルを作る際には、
ファイル圧縮ソフトなどのアーカイバーでファイルを結合してから、
ファイル分割ソフトで等分割して、それらに対して PAR1 ファイルを作るといいです。
</p>
<p>&nbsp
PAR 2.0 では各ソース・ファイルごとに多数のブロックが配置されます。
ソース・ファイルを選択した後に、設定画面で<a href="option2.htm#block_allocation">選択された方法</a>にしたがって、
効率が良くなるように自動的にブロックが割り当てられます。
手動でブロック・サイズやブロック数を変更してもいいです。
ブロック数を多くするほど速度が遅くなり、
ブロック数を少なくするほど小さな破損に対して効率が悪くなります。
実用性を考えるとブロック数は千〜数千ぐらいが無難でしょう。
ブロック・サイズを直接入力する際には KB や MB といった単位を使うこともできます。
互換性の為には、ブロック・サイズを 100,000,000 バイト (95 MB) 以下にしてください。
</p>

<hr>

<h3>リカバリ・ファイル</h3>

<dl><dt><b>
基準ファイル名
</b></dt><dd>&nbsp
「基準ファイル名」はリカバリ・ファイル名の基礎です。
ソース・ファイルを指定した際に自動的に設定されますが、
好みのわかりやすい名前に変更してもいいです。
なお、実際の名前にはボリューム番号と拡張子が追加されます。
</dd></dl>

<dl><dt><b>
保存先
</b></dt><dd>&nbsp
「保存先」はリカバリ・ファイルが作られるディレクトリです。
基準ディレクトリを変更すると自動的にそこになります。
別の場所に作りたい場合は、「参照する」ボタンでフォルダを選択するか、
入力欄にフォルダをドラッグ＆ドロップしてください。
表示欄をダブル・クリックしてもフォルダ選択ダイアログが表示されます。
</dd></dl>

<dl><dt><b>
コメント</b> ボタン
</dt><dd>&nbsp
個人的なメモを書き込みたいなら、コメントを入力してもいいです。
ただし、他の PAR クライアントはこのコメントを無視します。
</dd></dl>

<dl><dt><b>
冗長性
</b></dt><dd>&nbsp
「冗長性」とは修復時に復元することができる割合のことです。
例えば、500MB のソース・ファイルに対して冗長性が 10% なら、
50MB までの破損や消失を修復することができます。
<b>注意点として</b>、実際に修復できるかどうかは破損の分布によります。
狭い領域に破損が集中してる場合は小さな冗長性でも修復できそうですが、
広い領域に破損がまばらに点在してる場合はより大きな冗長性が必要です。
なお、冗長性を 0% にすると検査用に使うインデックス・ファイルだけが作られます。
</dd></dl>

<dl><dt><b>
リカバリ・ブロックの数
</b></dt><dd>&nbsp
リカバリ・ブロックの数を直接入力してもいいです。
冗長性で指定できる範囲よりも大きな値を指定できます。
</dd></dl>

<dl><dt><b>
空き領域に収める</b> ボタン と <b>容量
</b></dt><dd>&nbsp
CD や DVD にソース・ファイルとリカバリ・ファイルをうまく収めたいなら、この機能が便利です。
記録メディアを選択するか書き込み可能な容量を直接入力してください。
単純にソース・ファイルとリカバリ・ファイルの合計サイズから計算してるだけなので、
冗長性を少し小さめにした方が収まりやすいです。
</dd></dl>

<dl><dt><b>
サイズ指定方式</b> と <b>リカバリ・ファイルの数
</b></dt><dd>&nbsp
「サイズ指定方式」ではリカバリ・ファイルの大きさをどうするかを指定します。
「<b>同じ大きさにする</b>」や「<b>異なる大きさにする</b>」にした場合は、
更にリカバリ・ファイルの数を指定することができます。
そのファイル数で、同じ大きさや異なる大きさでリカバリ・ファイルが作られます。
「<b>2の乗数で大きくしていく</b>」にすると、
リカバリ・ブロックの数は 1, 2, 4, 8, 16, 32, 64, 128, ...個と、倍々に増えていきます。
「<b>貨幣単位で大きくしていく</b>」にすると、
リカバリ・ブロックの数は 1, 1, 2, 5, 10, 10, 20, 50, 100, ...個と、10進数的に増えていきます。
それぞれのリカバリ・ファイルは、最も大きなソース・ファイル（あるいは分割されたソース・ファイル）よりも小さくなります。
</dd></dl>

<p>&nbsp
各サイズ指定方式ごとに 500ブロックがどう分配されるかの例:<br>
<center><table border=1 cellspacing=0 cellpadding=2 width="98%">
<tr bgcolor="E0F0E0"><th>サイズ指定方式<th colspan=2>リカバリ・ファイルごとのブロック数
<tr><td>同じ大きさにする<td>167, 167, 166 (3ファイルなら)<td>84, 84, 83, 83, 83, 83 (6ファイルなら)
<tr><td>異なる大きさにする<td>72, 144, 284 (3ファイルなら)<td>8, 16, 32, 64, 128, 252 (6ファイルなら)
<tr><td>2の乗数で大きくしていく<td colspan=2>1, 2, 4, 8, 16, 32, 64, 128, 245 (合計 9ファイル)
<tr><td>貨幣単位で大きくしていく<td colspan=2>1, 1, 2, 5, 10, 10, 20, 50, 100, 100, 200, 1 (合計 12ファイル)
</table></center>
</p>

<dl><dt><b>
効率
</b></dt><dd>&nbsp
リカバリ・ファイルの大きさに対してどれくらいのデータを復元できるかです。
例えば、200MB のリカバリ・ファイルの効率が 95% なら、
データを 190MB まで復元することができます。
</dd></dl>

<dl><dt><b>
失われても完全に作り直すことができるファイルの数 (最少 - 最多)
</b></dt><dd>&nbsp
リカバリ・ファイルの修復能力を知る為に、この値を参考にしてください。
ソース・ファイルの大きさが異なる場合は、
一つのファイルを復元するのに予想以上の冗長性が必要になるかもしれません。
</dd></dl>

<hr>

<dl><dt><b>
開く</b> ボタン
</dt><dd>&nbsp
既に存在するリカバリ・ファイルを開くなら、このボタンを押してどれにするか選択してください。
現在の設定内容は保存されないので注意してください。
</dd></dl>

<dl><dt><b>
閉じる</b> ボタン
</dt><dd>&nbsp
このボタンを押すと、MultiPar を終了します。
閉じる際に警告は出ませんし、現在の設定内容は保存されないので注意してください。
</dd></dl>

<dl><dt><b>
設定</b> ボタン
</dt><dd>&nbsp
設定を変更したいなら、このボタンを押すと、<a href="option.htm">設定画面</a>が表示されます。 
</dd></dl>

<dl><dt><b>
情報</b> ボタン
</dt><dd>&nbsp
このボタンを押すと、バージョン情報が表示されます。
そこから説明書を開くこともできます。
</dd></dl>

<dl><dt><b>
試作する</b> ボタン
</dt><dd>&nbsp
各リカバリ・ファイルの大きさを知りたいなら、
このボタンを押して<a href="preview.htm">プレビュー画面</a>を見ることができます。
</dd></dl>

<dl><dt><b>
作成する</b> ボタン
</dt><dd>&nbsp
ソース・ファイルを選択してそれぞれの設定を終えたら、
このボタンを押してリカバリ・ファイルを作ってください。
経過を表示する為に<a href="creating.htm">作成中の画面</a>が開きます。
MultiPar を複数起動していて、既に他のが作業中なら、
先のが終わるのを待ってから、次のを開始します。
</dd></dl>

<div id="left_area">
<p><a href="index.htm">MultiPar のヘルプ</a></p>
<a href="create.htm">作成画面</a><br>
<a href="preview.htm">プレビュー画面</a><br>
<a href="creating.htm">作成中画面</a><br>
<a href="verify.htm">検査画面</a><br>
<a href="recreate.htm">作り直し画面</a><br>
<a href="option.htm">設定画面</a>
</div>

</body>
</html>
